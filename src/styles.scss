// Custom Theming for Angular Material
// For more information: https://material.angular.io/guide/theming
@use '@angular/material' as mat;
// Plus imports for other components in your app.
@use './app/main/proposals/proposal-card/proposal-card-theme' as proposal;


// Include the common styles for Angular Material. We include this here so that you only
// have to load a single css file for Angular Material in your app.
// Be sure that you only ever include this mixin once!
@include mat.core();

// Define the palettes for your theme using the Material Design palettes available in palette.scss
// (imported above). For each palette, you can optionally specify a default, lighter, and darker
// hue. Available color palettes: https://material.io/design/color/
$ecorendum-primary: mat.define-palette(mat.$purple-palette);
$ecorendum-accent: mat.define-palette(mat.$teal-palette, A400, A200, A100);

// The warn palette is optional (defaults to red).
$ecorendum-warn: mat.define-palette(mat.$red-palette);

// Create the theme object. A theme consists of configurations for individual
// theming systems such as "color" or "typography".
$ecorendum-theme: mat.define-dark-theme((
  color: (
    primary: $ecorendum-primary,
    accent: $ecorendum-accent,
    warn: $ecorendum-warn,
  )
));

$typography: mat.define-legacy-typography-config();

// Include theme styles for core and each component used in your app.
// Alternatively, you can import and @include the theme mixins for each component
// that you are using.
@include mat.all-component-themes($ecorendum-theme);
@include mat.all-component-typographies($typography);

@include proposal.theme($ecorendum-theme);

/* You can add global styles to this file, and also import other style files */

html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }

/////////////////////////////////////////////////////////////////////////////////////

$margin-default: 16px;
$margin-small: 8px;
$margin-inline: 4px;

.color-primary {
  color: mat.get-color-from-palette($ecorendum-primary) !important;
}

.color-accent {
  color: mat.get-color-from-palette($ecorendum-accent) !important;
}

.color-warn {
  color: mat.get-color-from-palette($ecorendum-warn) !important;
}

// This should move just to the component that uses it, but lots of work :)
.bg-color-accent-semi-transparent {
  background-color: rgba(mat.get-color-from-palette($ecorendum-accent), 0.8) !important;
}

// This should move just to the component that uses it, but lots of work :)
.bg-color-accent-transparent {
  background-color: rgba(mat.get-color-from-palette($ecorendum-accent), 0.4) !important;
}

// This should move just to the component that uses it, but lots of work :)
.bg-color-warn-semi-transparent {
  background-color: rgba(mat.get-color-from-palette($ecorendum-warn), 0.8) !important;
}

// This should move just to the component that uses it, but lots of work :)
.bg-color-warn-transparent {
  background-color: rgba(mat.get-color-from-palette($ecorendum-warn), 0.4) !important;
}

.accent { color: mat.get-color-from-palette($ecorendum-accent, A200) }

.success { color: #46f8cf }
.neutral { color: #ffffff }
.warning { color: #f8837b }
.danger { color: #fa4c40 }

.bg-color-danger { background-color: #f4433614!important }
.bg-color-success { background-color: #1de9b617!important }

.impact-extremely-positive { color: #00ffc3 }
.impact-very-positive { color: #46f8cf }
.impact-moderately-positive { color: #86fadf }
.impact-somewhat-positive { color: #d2f8ef }
.impact-neutral { color: #ffffff }
.impact-somewhat-negative { color: #fcc3bf }
.impact-moderately-negative { color: #f8837b }
.impact-very-negative { color: #fa4c40 }
.impact-extremely-negative { color: #ff1d0d }

/* Fix links */

a {
  color: mat.get-color-from-palette($ecorendum-primary, 200);
  text-decoration: none;
  cursor: pointer;

  &:hover {
    color: mat.get-color-from-palette($ecorendum-primary, 300);
  }
}

h1, h2, h3, h4, h5 {
  a {
    color: inherit;
  }
}

a.unstyled-link {
  color: inherit;
}

/* General improvements */

label {
  font-weight: 500;
}

/* Commonly used inline icon styles. The inline attribute of Material itself doesn't work */

.mat-icon.inline {
  font-size: 120%;
  vertical-align: text-bottom;
  margin-right: $margin-inline;
  height: unset;
  width: unset;

  &.form {
    padding-right: 8px;
  }
}

/* Material helper classes */

.card-side-padding {
  padding-left: 16px;
  padding-right: 16px;
}

/* General helper classes */

.info {
  opacity: 0.8;
  font-style: italic;
}

/* Page layouts */

.page-container {
  margin: $margin-default;
  padding-bottom: 24px;
}

.responsive-page-container {
  padding-right: $margin-default;
  padding-left: $margin-default;
  padding-top: 24px;
  padding-bottom: 24px;
  margin-right: auto;
  margin-left: auto;
}

.responsive-page-content-with-toc {
  display: flex;
  scroll-behavior: smooth;

  .responsive-page-toc-container {
    position: relative;
    min-width: 250px;
    display: none;

    .responsive-page-toc-box {
      position: sticky;
      top: 12px;
      border-right: 1px solid;
      border-color: var(--mdc-elevated-card-container-color);
      margin-right: 32px;
      padding-right: 16px;

      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;

        li.H1 {
          margin-top: 8px;
          list-style-type: disc;
        }

        li.H2 {
          margin-left: 4px;
          margin-top: 4px;
        }

        li.H3 {
          margin-left: 8px;
          font-size: 90%;
        }

        li.H4 {
          margin-left: 12px;
          font-size: 90%;
        }

        li.H5 {
          margin-left: 16px;
          font-size: 90%;
        }
      }
    }
  }
}

@media (min-width: 576px) {
  .responsive-page-container { max-width: 500px; }
}

@media (min-width: 768px) {
  .responsive-page-container { max-width: 600px; }
}

@media (min-width: 992px) {
  .responsive-page-container { max-width: 600px; }
  .responsive-page-container.responsive-page-content-with-toc {
    max-width: 850px;
    .responsive-page-toc-container {
      min-width: 250px;
      display: block;
    }
  }
}

@media (min-width: 1200px) {
  .responsive-page-container { max-width: 700px; }
  .responsive-page-container.responsive-page-content-with-toc {
    max-width: 1000px;
    .responsive-page-toc-container {
      min-width: 280px;
      display: block;
    }
  }
}

@media (min-width: 1400px) {
  .responsive-page-container {  max-width: 800px; }
  .responsive-page-container.responsive-page-content-with-toc {
    max-width: 1200px;
    .responsive-page-toc-container {
      min-width: 300px;
      display: block;
    }
  }
}

/***************************/
/* General Markdown styles */
/***************************/

markdown {
  img {
    max-width: 100%;
  }
}

hr {
  margin: 24px 0px;
  border: none;
  background-color: #cccccc73;
  color: #cccccc73;
  height: 1px;
}

markdown {
  blockquote {
    opacity: 0.7;
    padding: 4px 12px;
    margin: 8px 0;
    border-left: 3px solid rgba(255, 255, 255, 0.3);

    p:last-child {
      margin-bottom: 0px;
    }
  }

  h1, h2 {
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
  }

  strong {
    font-weight: 500;
  }
}

/***************************************************/
/* Fixes to Material, introduced by mdc components */
/***************************************************/

mat-card {
  padding: 16px;
}

mat-card > :last-child:not(mat-card-footer) {
  margin-bottom: 0;
}

.dark-dialog .mat-mdc-dialog-container,
.dark-dialog .mat-mdc-dialog-container .mdc-dialog__surface {
  background-color: #303030;
}

.dark-dialog .mat-mdc-dialog-container .mdc-dialog__content {
  color: inherit;
}

/* Buttons with small content, like just a logo, shouldn't be artificially large */

.mdc-button {
  min-width: unset !important;
}

/* This is old, nicer styling of toggle button groups */

mat-button-toggle-group {
  // Strange that this is necessary...
  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12) !important;
  border: none !important;
  height: 36px;
  margin: 8px;
}

mat-button-toggle {
  // Strange that this is necessary...
  background-color: unset !important;

  &.mat-button-toggle-checked {
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
}

/***********************************/
/** Styles for specific components */
/***********************************/

/* Strangely enough, this has to be here, can't be in help widget itself :/ */

.help-widget-tooltip {
  .mdc-tooltip__surface {
    padding: 8px;
  }

  :after {
    display: block;
    margin-top: 8px;
    opacity: 0.6;
  }
}

.help-widget-tooltip-en {
  :after {
    content: ' (click for more info)';
  }
}

.help-widget-tooltip-nl {
  :after {
    content: ' (klik voor meer info)';
  }
}

.help-widget-tooltip-fr {
  :after {
    content: ' (cliquez pour plus d''informations)';
  }
}
