<div *ngIf="results$ | async; let results">
  <mat-card class="result-section">
    <h2><mat-icon class="inline">cloud_download</mat-icon> {{ 'CO2 reduction by 2030' | translate }}</h2>
    <div class="numerical">
      <span class="amount-selected" [class]="'color-' + results.ghgReductionColor">{{ results.ghgReducedKt | number }}</span>
      /
      <span class="amount-required">{{ ghgGapCumulativeKt | number }}</span> kt
    </div>

    <mat-progress-bar class="progress" mode="determinate"
      [color]="results.ghgReductionColor"
      [value]="results.ghgReductionPercentage">
    </mat-progress-bar>

    <div *ngIf="results.ghgReductionPercentage < 100">
      {{ 'Since the target reduction is not met, this amounts to a carbon tax of: ' }}
      <span class="color-warn">â‚¬{{ results.ghgTax | number }}</span>
    </div>

    <div *ngIf="results.ghgReductionPercentage >= 100">
      {{ 'Good job! Your selection of measures meets the European target.' }}
    </div>
  </mat-card>

  <mat-card class="result-section">
    <h2><mat-icon class="inline">savings</mat-icon> {{ 'Improved energy efficiency by 2030' | translate }}</h2>
    <div class="numerical">
      <span class="amount-selected" [class]="'color-' + results.energySavedColor">{{ results.energySavedGwh | number }}</span>
      /
      <span class="amount-required">{{ eeGapTargetGwh | number }}</span> GWh
    </div>

    <mat-progress-bar class="progress" mode="determinate"
      [color]="results.energySavedColor"
      [value]="results.energySavedPercentage">
    </mat-progress-bar>

    <div *ngIf="results.energySavedPercentage < 100">
      {{ 'Your selection of measures is not enough to meet the European target. Try selecting more.' }}
    </div>

    <div *ngIf="results.energySavedPercentage >= 100">
      {{ 'Good job! Your selection of measures meets the European target' }}
    </div>
  </mat-card>

  <mat-card class="result-section">
    <h2><mat-icon class="inline">wb_sunny</mat-icon> {{ 'Renewable energy added by 2030' | translate }}</h2>
    <div class="numerical">
      <span class="amount-selected" [class]="'color-' + results.renewableEnergyAddedColor">{{ results.reAddedGwh | number }}</span>
      /
      <span class="amount-required">{{ eeGapTargetGwh | number }}</span> GWh
    </div>

    <mat-progress-bar class="progress" mode="determinate"
      [color]="results.renewableEnergyAddedColor"
      [value]="results.reAddedPercentage">
    </mat-progress-bar>

    <div *ngIf="results.reAddedPercentage < 100">
      {{ 'Your selection of measures is not enough to meet the European target. Try selecting more.' }}
    </div>

    <div *ngIf="results.reAddedPercentage >= 100">
      {{ 'Good job! Your selection of measures meets the European target' }}
    </div>
  </mat-card>
</div>

<button mat-raised-button color="primary" (click)="submit()">{{ 'I am happy with these results, publish!' | translate }}</button>
